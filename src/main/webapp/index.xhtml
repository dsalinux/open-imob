<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="template.xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="header">
        <h:outputStylesheet library="css" name="slippry.css"></h:outputStylesheet>
    </ui:define>
    <ui:define name="no-container">

        <style>
            .carousel.fade {
                opacity: 1;
            }
            .carousel.fade .item {
                transition: opacity ease-out .7s;
                left: 0;
                opacity: 0; /* hide all slides */
                top: 0;
                position: absolute;
                width: 100%;
                display: block;
            }
            .carousel.fade .item:first-child {
                top: auto;
                opacity: 1; /* show first slide */
                position: relative;
            }
            .carousel.fade .item.active {
                opacity: 1;
            }
            .item-banner{
                height: 300px;
                width: 100%;
                background-position: 50%!important;
                background-repeat: no-repeat!important;
                background-size: cover!important;
            }
            .carousel-control.left, .carousel-control.right {
                background: none !important;
                filter: none !important;
                outline: 0;
            }
            .carousel .carousel-control { visibility: hidden}
            .carousel:hover .carousel-control { visibility: visible; }
        </style>
        <c:if test="#{not empty contextView.banners}">
            <div id="carousel-example-generic" class="carousel fade" data-ride="carousel">
                <div class="carousel-inner" role="listbox">
                    <c:forEach items="#{contextView.banners}" var="banner" varStatus="p">
                        <div class="item #{p.index == 1? 'active':''}">
                            <div class="item-banner" style="background:url('#{request.contextPath}/imagemServlet?imageName=#{banner.urlImagem}')"></div>
                        </div>
                    </c:forEach>
                    <!--                <div class="item">
                                        <div class="item-banner" style="background:url('javax.faces.resource/banner2.jpg.jsf;?ln=img')"></div>
                                    </div>
                                    <div class="item">
                                        <div class="item-banner" style="background:url('javax.faces.resource/banner3.jpg.jsf;?ln=img')"></div>
                                    </div>-->
                </div>
                <!-- Controls -->
                <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </c:if>

        <!--        <section class="demo_wrapper" style="z-index:0">
                    <article class="demo_block">
                        <ul id="demo1">
                            <li><a href="#slide1">
                                    <h:graphicImage library="img" name="image-1.jpg"></h:graphicImage>
                                </a>
                            </li>
                            <li>
                                <a href="#slide2">
                                    <h:graphicImage library="img" name="image-2.jpg"></h:graphicImage>
                                </a>
                            </li>
                            <li>
                                <a href="#slide3">
                                    <h:graphicImage library="img" name="image-4.jpg"></h:graphicImage>
                                </a>
                            </li>
                        </ul>
                    </article>
                </section>		-->
        <br/>
        <div class="container">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Procure pelo imóvel que você deseja:
                    <a href="#{request.contextPath}/imovel" class="btn btn-success" data-toggle="collapse" data-target="#demo">Clique aqui para buscar</a>
                </div>
            </div>            
            <!--        <div class="panel panel-default">
                        <div class="panel-heading">Quer encontrar um imóvel de forma fácil? <button class="btn btn-success" data-toggle="collapse" data-target="#demo">Clique aqui para buscar</button></div>
                        <div class="panel-body">
                            <div class="bootstrap-iso">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="">
                                            <form class="form-horizontal collapse" method="post" id="demo">
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2">
                                                        Tipo neg&oacute;cio
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <div class="radio">
                                                            <label class="radio">
                                                                <input name="radio" type="radio" value="Alugar"/>
                                                                Alugar
                                                            </label>
                                                        </div>
                                                        <div class="radio">
                                                            <label class="radio">
                                                                <input name="radio" type="radio" value="Comprar"/>
                                                                Comprar
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2" for="select">
                                                        Tipo Im&oacute;vel
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <select class="select form-control" id="select" name="select">
                                                            <option value="Casa">
                                                                Casa
                                                            </option>
                                                            <option value="Apartamento">
                                                                Apartamento
                                                            </option>
                                                            <option value="Loja">
                                                                Loja
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2" for="select1">
                                                        Cidade
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <select class="select form-control" id="select1" name="select1">
                                                            <option value="Brasil&acirc;ndia">
                                                                Brasil&acirc;ndia
                                                            </option>
                                                            <option value="Jo&atilde;o Pinheiro">
                                                                Jo&atilde;o Pinheiro
                                                            </option>
                                                            <option value="Paracatu">
                                                                Paracatu
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2" for="select2">
                                                        Bairro
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <select class="select form-control" id="select2" name="select2">
                                                            <option value="Aeroporto">
                                                                Aeroporto
                                                            </option>
                                                            <option value="Centro">
                                                                Centro
                                                            </option>
                                                            <option value="Esplanada">
                                                                Esplanada
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2" for="number">
                                                        Valor Mínimo
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group">
                                                            <div class="input-group-addon">
                                                                <i class="glyphicon glyphicon-usd">
                                                                </i>
                                                            </div>
                                                            <input class="form-control" id="number" name="number" type="text"/>
                                                            <div class="input-group-addon">
                                                                ,00
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2" for="number1">
                                                        Valor M&aacute;ximo
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group">
                                                            <div class="input-group-addon">
                                                                <i class="glyphicon glyphicon-usd">
                                                                </i>
                                                            </div>
                                                            <input class="form-control" id="number1" name="number1" type="text"/>
                                                            <div class="input-group-addon">
                                                                ,00
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="control-label col-sm-2" for="number2">
                                                        C&oacute;digo Im&oacute;vel
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group">
                                                            <div class="input-group-addon">
                                                                <i class="glyphicon glyphicon-qrcode">
                                                                </i>
                                                            </div>
                                                            <input class="form-control" id="number2" name="number2" type="text"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-10 col-sm-offset-2">
                                                        <button class="btn btn-primary " name="submit" type="submit">
                                                            Buscar im&oacute;vel
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>-->
            <div class="panel panel-default">
                <div class="panel-heading">Confira alguns imoveis em destaque!</div>
                <div class="panel-body">
                    <div class="row">
                        <ui:repeat value="#{imoveisView.imoveisDestaque}" var="imovel" varStatus="p" id="listaImoveis">
                            <div class="col-sm-6 col-md-4">
                                    <div class="thumbnail">
                                        <div style="height: 130px; width: 100%; background: url('imagemServlet?imageName=#{imovel.urlFotoPrincipal}'); background-position: 50%; background-size: cover"></div>
                                        <div class="caption" style="height: 250px">
                                            <h3><b>#{imovel.tipo_.descricao}:</b> #{imovel.tipoImovel.nome}</h3>
                                            <h4><b>Valor: </b>
                                                <h:outputText value="#{imovel.valor > 0?imovel.valor:'Entre em contato!'}">
                                                    <f:convertNumber rendered="#{imovel.valor > 0}" type="currency" currencySymbol="R$" locale="pt_BR"></f:convertNumber>
                                                </h:outputText></h4>
                                            <p class="text-justify">
                                                #{imovel.descricao}
                                            </p>
                                        </div>
                                        <p>
                                            <a href="imovel/visualizar/#{imovel.id}" class="btn btn-danger btn-group-justified" role="button"><span class="glyphicon glyphicon-search"></span> Visualizar</a> 
                                        </p>
                                    </div>
                                </div>
                        </ui:repeat>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>

    <ui:define name="lastLine">
        <!--<h:outputScript library="js" name="slippry.min.js"></h:outputScript>-->
        <script>
            $(function () {
                //                        $("#demo1").slippry({
                //                            transition: 'fade',
                //                            pager: false
                //                        });
                //        
                $('.carousel').carousel();
            });
            $(".dropdown-menu li a").click(function () {
                var selText = $(this).text();
                $(this).parents('.btn-group').find('.dropdown-toggle').html(selText + ' <span class="caret"></span>');
            });

            $("#btnSearch").click(function () {
                alert($('.btn-select').text() + ", " + $('.btn-select2').text());
            });
        </script>
    </ui:define>

</ui:composition>

